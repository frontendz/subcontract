<div class="forgotPasswordRegisteration" id="forgotPasswordWrapper">
  <div ng-controller="LoginCtrl" ng-include src ="'views/logoLoginForm.html'"></div>
  <div class="section-separator">
    <div class="dialogContainer">
      <div class="forgotPasswordForm">
        <div class="pageTitle"><h2>Forgot Password</h2></div>
        <form role="form" name="reigstrationForm" ng-controller="ForgotPasswordCtrl" valid-submit="onForgotpasswordFormSubmit()" class="forgotPasswordForm" novalidate>
           <div class="form-group text-left">
             <div class="form-group text-left" ng-class="{'has-error' : (reigstrationForm.$submitted || reigstrationForm.email.$touched || submitted) && reigstrationForm.email.$error.required || reigstrationForm.$error.pattern}">
               <label for="email" class="hidden-xs">Email:<sup><span class="estricSign"> *</span></sup></label>
               <input type="text" class="form-control" ng-pattern="/^[a-z]+[a-z0-9._]+@[a-z]+\.[a-z.]{2,5}$/" ng-blur ="getQuestions()" name="email" id="email" ng-model="email" placeholder="Email" ng-required="true"/>
               <p class="myerror" ng-show="(reigstrationForm.$submitted || reigstrationForm.email.$touched || submitted) && reigstrationForm.email.$error.required">Email is required.</p>
               <p ng-show="reigstrationForm.$error.pattern" class="help-block">Please enter valid email address.</p>
               <p ng-show="emailError" class="myerror">no user with email/mobile exists</p>
               <p ng-show="resetOption === 'securityQuestion' && !email" class="myerror">no user with email/mobile exists</p>
             </div>
             <div class="form-group text-left" ng-class="{'has-error' : (reigstrationForm.$submitted || reigstrationForm.email.$touched || submitted) && reigstrationForm.email.$error.required || reigstrationForm.$error.pattern}">
               <div class="radio">
                 <label><input type="radio" ng-init="resetOption = 'mobileNumber'" name="resetOption" ng-model="resetOption" value="mobileNumber">Reset By Mobile Number</label>
                </div>
                <div class="radio">
                 <label><input type="radio" name="resetOption" ng-click="email && getQuestions()" ng-model="resetOption" value="securityQuestion">Reset By Security Question</label>
               </div>
             </div>

            <div ng-if="resetOption === 'mobileNumber'" class="form-group text-left" ng-class="{'has-error' : (reigstrationForm.$submitted || reigstrationForm.mobile.$touched || submitted) && reigstrationForm.mobile.$error.required}">
              <label for="mobile" class="hidden-xs">Mobile:<sup><span class="estricSign"> *</span></sup></label>
              <input type="number" class="form-control" name="mobile" id="txtMobile" ng-model="$parent.mobile" placeholder="Mobile" ng-required="true"/>
              <p ng-show="(reigstrationForm.$submitted || reigstrationForm.mobile.touched || submitted) && reigstrationForm.mobile.$error.required" class="help-block">Mobile number is required.</p>
              <p ng-show="reigstrationForm.$error.mobile" class="help-block">Please enter valid mobile number.</p>
            </div>

            <div ng-if="resetOption !== 'mobileNumber'" ng-init="email && getQuestions()">
              <div  class="form-group text-left" ng-class="{'has-error' : (reigstrationForm.$submitted || reigstrationForm.firstAnswer.touched || submitted) && reigstrationForm.firstAnswer.$error.required}" ng-repeat="questions in securityQuestions">
                <label for="firstAnswer" class="hidden-xs">Q{{$index + 1}}:{{questions.question}}<sup><span class="estricSign"> *</span></sup></label>
                <input type="text" class="form-control" name="firstAnswer"  ng-model="questions['answer']" placeholder="answer" ng-required="true"/>
              </div>
            </div>

            <div class="form-group signInForm-submitBtnwrapper">
                <input type="submit" class="btnSubmit" value="Submit" title="Submit">
                <input type="button" class="btnCancel" value="Cancel" title="Cancel" ui-sref="home">
            </div>
        </form>
      </div>
    </div>
  </div>
</div>
